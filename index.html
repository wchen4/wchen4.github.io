<!-- Treasure Data -->
<script type="text/javascript">
!function(t,e){if(void 0===e[t]){e[t]=function(){e[t].clients.push(this),this._init=[Array.prototype.slice.call(arguments)]},e[t].clients=[];for(var r=["addRecord","blockEvents","fetchServerCookie","fetchGlobalID","fetchUserSegments","resetUUID","ready","setSignedMode","setAnonymousMode","set","trackEvent","trackPageview","trackClicks","unblockEvents"],s=0;s<r.length;s++){var c=r[s];e[t].prototype[c]=function(t){return function(){return this["_"+t]=this["_"+t]||[],this["_"+t].push(Array.prototype.slice.call(arguments)),this}}(c)}var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=("https:"===document.location.protocol?"https:":"http:")+"//cdn.treasuredata.com/sdk/3.0/td.min.js";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(n,o)}}("Treasure",this);
</script>
<script type="text/javascript">
  // Configure an instance for your database
  
var td = new Treasure({
    database: 'weichen_js',
    writeKey: '1/c7d044c1da46e68be18517c30880a789f2561237',
    useNewJavaScriptEndpoint: true,
    host: 'us01.records.in.treasuredata.com'
  });
  // Enable cross-domain tracking
  td.set('$global', 'td_global_id', 'td_global_id');
  // Track pageview information to 'pageviews' table
  td.trackPageview('pageviews');
    
    var successCallback = function (values) {
        console.log(values);
  };
   
  var errorCallback = function (error) {
        console.log(error);
  };
   
  td.fetchUserSegments({
    audienceToken: ['85ae466d-0936-4997-a5eb-f72e3dd88e99'],
    keys: {
      someKey: 'someValue',
      someOtherKey: 'someOtherValue',
    }
  }, successCallback, errorCallback)
</script>
